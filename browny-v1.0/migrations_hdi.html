<!doctype html>
<html class="no-js" lang="fr">

  <head>
    <!-- meta data -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->

    <!--font-family-->
    <link href="https://fonts.googleapis.com/css?family=Poppins:100,200,300,400,500,600,700,800,900&amp;subset=devanagari,latin-ext" rel="stylesheet">
    
    <!-- title of site -->
    <title>MIGRATIONS</title>

    <!-- For favicon png -->
    <link rel="shortcut icon" type="image/icon" href="assets/logo/favicon.png"/>
     
    <!--font-awesome.min.css-->
    <link rel="stylesheet" href="assets/css/font-awesome.min.css">

    <!--flat icon css-->
    <link rel="stylesheet" href="assets/css/flaticon.css">

    <!--animate.css-->
    <link rel="stylesheet" href="assets/css/animate.css">

    <!--owl.carousel.css-->
    <link rel="stylesheet" href="assets/css/owl.carousel.min.css">
    <link rel="stylesheet" href="assets/css/owl.theme.default.min.css">
    
    <!--bootstrap.min.css-->
    <link rel="stylesheet" href="assets/css/bootstrap.min.css">
    
    <!-- bootsnav -->
    <link rel="stylesheet" href="assets/css/bootsnav.css" > 
    
    <!--style.css-->
    <link rel="stylesheet" href="assets/css/style.css">
    
    <!--responsive.css-->
    <link rel="stylesheet" href="assets/css/responsive.css">
    
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

  </head>
  
  <body>
    <!--[if lte IE 9]>
      <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
    <![endif]-->
    
    <!-- top-area Start -->
    <header class="top-area">
      <div class="header-area">
        <!-- Start Navigation -->
        <nav class="navbar navbar-default bootsnav navbar-fixed dark no-background">

          <div class="container">

            <!-- Start Header Navigation -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-menu">
                <i class="fa fa-bars"></i>
              </button>
              <a class="navbar-brand" href="index.html">MIGRATIONS</a>
            </div><!--/.navbar-header-->
            <!-- End Header Navigation -->

            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="collapse navbar-collapse menu-ui-design" id="navbar-menu">
              <ul class="nav navbar-nav navbar-right" data-in="fadeInDown" data-out="fadeOutUp">
              <li class=" smooth-menu active"></li>
                <li class=" smooth-menu"><a href="index.html">Migrations par pays</a></li>
                <li class="smooth-menu"><a href="migrations_by_country_norm.html">Migrations par pays normalisées</a></li>
                <li class="smooth-menu"><a href="migrations_hdi.html">Migrations et IDH</a></li>
                <li class="smooth-menu"><a href="migrations_gii.html">Migrations et IIG</a></li>
                <li class="smooth-menu"><a href="migrations_unemployment.html">Migrations et chômage</a></li>
              </ul><!--/.nav -->
            </div><!-- /.navbar-collapse -->
          </div><!--/.container-->
        </nav><!--/nav-->
        <!-- End Navigation -->
      </div><!--/.header-area-->

      <div class="clearfix"></div>

    </header><!-- /.top-area-->
    <!-- top-area End -->
  
    <!--welcome-hero start -->
    <section id="empty" style="height:90px;">
      <div class="container">
      </div><!-- /.container-->

    </section><!--/.welcome-hero-->
    <!--welcome-hero end -->

    <!--about start -->
    <section id="about" class="about">
      <div class="section-heading text-center">
        <h2>Migrations et IDH</h2>
      </div>
      <div class="container">
        <div class="about-content">
          <div class="row">
            <!-- column with the map -->
            <div class="col-sm-8">
              <div class="scatter_div">
              </div>
            </div>

            <!-- column with the information -->
            <div class="col-sm-4">
              <div class="single-about-img">
              </div>

            </div>
          </div>
        </div>
      </div>
    </section><!--/.about-->
    <!--about end -->

    <!--footer-copyright start-->
    <footer id="footer-copyright" class="footer-copyright">
      <div class="container">
        <div class="hm-footer-copyright text-center">
          <p>
            &copy; copyright yourname. design and developed by <a href="https://www.themesine.com/">themesine</a>
          </p><!--/p-->
        </div><!--/.text-center-->
      </div><!--/.container-->

      <div id="scroll-Top">
        <div class="return-to-top">
          <i class="fa fa-angle-up " id="scroll-top" ></i>
        </div>
        
      </div><!--/.scroll-Top-->
      
    </footer><!--/.footer-copyright-->
    <!--footer-copyright end-->
    
    <!-- Include all js compiled plugins (below), or include individual files as needed -->

    <script src="assets/js/jquery.js"></script>
    
    <!--modernizr.min.js-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.min.js"></script>
    
    <!--bootstrap.min.js-->
    <script src="assets/js/bootstrap.min.js"></script>
    
    <!-- bootsnav js -->
    <script src="assets/js/bootsnav.js"></script>
    
    <!-- jquery.sticky.js -->
    <script src="assets/js/jquery.sticky.js"></script>
    
    <!-- for progress bar start-->

    <!-- progressbar js -->
    <script src="assets/js/progressbar.js"></script>

    <!-- appear js -->
    <script src="assets/js/jquery.appear.js"></script>

    <!-- for progress bar end -->

    <!--owl.carousel.js-->
    <script src="assets/js/owl.carousel.min.js"></script>


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.4.1/jquery.easing.min.js"></script>
    
    <!--Custom JS-->
    <script src="assets/js/custom.js"></script>

    <!-- D3 tools -->
    <script src="https://d3js.org/d3.v4.min.js"></script>

    <!-- create scatterplot -->
    <script type="text/javascript">
      var margin = {top: 0, right: 0, bottom: 0, left: 0},
                  width = 750 - margin.left - margin.right,
                  height = 500 - margin.top - margin.bottom;

      var svg = d3.select(".scatter_div").append("svg")
        .attr("width", 750)
        .attr("height", 500)

      d3.csv("data/iris.csv",
        function(data)
        {
          var max_sepal_length = 0; //7.9
          var min_sepal_length = Infinity; //4.3
          var max_sepal_width = 0; //4.4
          var min_sepal_width = Infinity; //2
          var max_petal_length = 0;
          var min_petal_length = Infinity;

          var max_radius = 15;
          var min_radius = 5;

          var categories = [];

          data.forEach(function(d)
          {
            d.sepal_length = +d.sepal_length;
            d.sepal_width = +d.sepal_width;
            d.petal_length = +d.petal_length;
            d.petal_width = +d.petal_width;

            if (d.sepal_length > max_sepal_length)
              max_sepal_length = d.sepal_length;
            if (d.sepal_length < min_sepal_length)
              min_sepal_length = d.sepal_length;

            if (d.sepal_width > max_sepal_width)
              max_sepal_width = d.sepal_width;
            if (d.sepal_width < min_sepal_width)
              min_sepal_width = d.sepal_width;

            if (d.petal_length > max_petal_length)
              max_petal_length = d.petal_length;
            if (d.petal_length < min_petal_length)
              min_petal_length = d.petal_length;

            if (!categories.includes(d.species))
              categories.push(d.species);
          });

          var x = d3.scaleLinear()
            .domain([min_sepal_length - 1, max_sepal_length + 1])
            .range([margin.left, width + margin.left - max_radius - 30])
          
          var y = d3.scaleLinear()
            .domain([max_sepal_width + 1, min_sepal_width - 1])
            .range([margin.top, height + margin.top - max_radius - 40])

          var r = d3.scaleSqrt()
            .domain([min_petal_length, max_petal_length])
            .range([min_radius, max_radius])

          var colour = d3.scaleOrdinal(d3.schemeCategory10)
              .domain(categories)

          var x_axis = d3.scaleLinear()
            .domain([min_sepal_length - 1, max_sepal_length + 1])
            .range([margin.left, width + margin.left - max_radius - 30])
          
          var y_axis = d3.scaleLinear()
            .domain([max_sepal_width + 1, min_sepal_width - 1])
            .range([margin.top, height + margin.top - max_radius - 40])

          var xAxis = d3.axisBottom()
              .scale(x_axis);

          var yAxis = d3.axisLeft()
              .scale(y_axis);

          svg.append("g")
              .attr("class", "x axis")
              .attr("transform", "translate(30," + (height - 15) + ")")
              .call(xAxis)

          svg.append("g")
              .attr("class", "y axis")
              .attr("transform", "translate(40, 20)")
              .call(yAxis)

          svg.selectAll("circle").data(data).enter()
            .append("circle")
            .attr("cy", function(d, i) {return y(d.sepal_width) + 20;})
            .attr("cx", function(d, i) {return x(d.sepal_length) + 30;})
            .attr("r", function(d, i) {return r(d.petal_length);})
            .style("fill", function(d, i) {return colour(d.species)})
            .style("stroke", "black")
        }
      );
    </script>

  </body>
  
</html>